(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{55:function(e,t,r){"use strict";r.d(t,{a:function(){return f}});var s=r(4730),n=r(29),a=r(7794),i=r.n(a),l=r(5522),o=r(9669),d=r.n(o),c=r(3454),u=d().create({baseURL:c.env.NEXT_PUBLIC_BACKEND_URL,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),x=r(7294),p=r(1163),h=["setErrors"],m=["setErrors","setStatus"],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.middleware,r=e.redirectIfAuthenticated,a=(0,p.useRouter)(),o=(0,l.ZP)("/api/user",(function(){return u.get("/api/user").then((function(e){return e.data})).catch((function(e){if(409!=e.response.status)throw e}))})),d=o.data,c=o.error,f=o.revalidate,b=(0,l.ZP)("/api/punishments/me",(function(){return u.get("/api/punishments/me").then((function(e){return e.data})).catch((function(e){if(409!=e.response.status)throw e}))})),w=b.data,g=function(){return u.get("/sanctum/csrf-cookie")},v=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,n=(0,s.Z)(t,h),e.next=3,g();case 3:r([]),u.post("/register",n).then((function(){return f()})).catch((function(e){if(422!=e.response.status)throw e;r(Object.values(e.response.data.errors).flat())}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,n=t.setStatus,a=(0,s.Z)(t,m),e.next=3,g();case 3:r([]),n(null),u.post("/login",a).then((function(){return f()})).catch((function(e){if(422!=e.response.status)throw e;r(Object.values(e.response.data.errors).flat())}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return e.next=3,u.post("/logout");case 3:f();case 4:window.location.pathname="/auth/login";case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){"guest"==t&&r&&d&&a.push(r),"auth"==t&&c&&j()}),[d,c]),{user:d,punishments:w,register:v,login:y,logout:j}}},4112:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(9008),n=r(1664),a=r(1163),i=r(7294),l=r(5893),o=function(){var e=(0,i.useState)("hidden"),t=e[0],r=e[1],s=(0,a.useRouter)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden shadow-xl bg-white flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6",children:(0,l.jsxs)("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-0 flex flex-wrap items-center justify-between w-full mx-auto",children:[(0,l.jsx)("button",{className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",type:"button",onClick:function(){return r("bg-white m-2 py-3 px-6")},children:(0,l.jsx)("i",{className:"fas fa-bars"})}),(0,l.jsx)(n.default,{href:"/",children:(0,l.jsx)("a",{href:"#",className:"md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:"Wynntils"})}),(0,l.jsxs)("div",{className:"md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded "+t,children:[(0,l.jsx)("div",{className:"md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-blueGray-200",children:(0,l.jsxs)("div",{className:"flex flex-wrap",children:[(0,l.jsx)("div",{className:"w-6/12",children:(0,l.jsx)(n.default,{href:"/",children:(0,l.jsx)("a",{href:"#pablo",className:"md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:"Wynntils"})})}),(0,l.jsx)("div",{className:"w-6/12 flex justify-end",children:(0,l.jsx)("button",{type:"button",className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",onClick:function(){return r("hidden")},children:(0,l.jsx)("i",{className:"fas fa-times"})})})]})}),(0,l.jsx)("form",{className:"mt-6 mb-4 md:hidden",children:(0,l.jsx)("div",{className:"mb-3 pt-0",children:(0,l.jsx)("input",{type:"text",placeholder:"Search",className:"px-3 py-2 h-12 border border-solid  border-blueGray-500 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-base leading-snug shadow-none outline-none focus:outline-none w-full font-normal"})})}),(0,l.jsx)("hr",{className:"my-4 md:min-w-full"}),(0,l.jsx)("h6",{className:"md:min-w-full text-blueGray-500 text-xs uppercase font-bold block pt-1 pb-4 no-underline",children:"Your account"}),(0,l.jsx)("ul",{children:(0,l.jsxs)("li",{children:[(0,l.jsx)(n.default,{href:"/user/dashboard",children:(0,l.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==s.pathname.indexOf("/user/dashboard")?"text-green-500 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Dashboard"})}),(0,l.jsx)(n.default,{href:"/user/capes",children:(0,l.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==s.pathname.indexOf("/user/capes")?"text-green-400 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Capes"})}),(0,l.jsx)(n.default,{href:"/user/punishments",children:(0,l.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==s.pathname.indexOf("/user/punishments")?"text-green-500 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Punishments"})})]})})]})]})})})},d=function(e){var t=e.header,r=e.children;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.default,{children:(0,l.jsx)("link",{rel:"icon",href:"/images/icons/favicon.svg",type:"image/x-icon"})}),(0,l.jsx)(o,{}),(0,l.jsxs)("div",{className:"relative md:ml-64 bg-gray-100 min-h-screen",children:[(0,l.jsx)("nav",{className:"absolute top-0 left-0 w-full z-10 bg-transparent md:flex-roz md:flex-nowrap md:justify-start flex items-center p-4",children:(0,l.jsx)("div",{className:"w-full mx-auto items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4",children:(0,l.jsx)("h1",{className:"text-white text-lg uppercase hidden lg:inline-block font-semibold",children:t})})}),(0,l.jsx)("div",{className:"relative bg-slate-900 md:pt-32 pb-32 pt-12",children:(0,l.jsx)("p",{className:"text-white",children:"Info here?"})}),(0,l.jsx)("div",{className:"relative px-4 md:px-10 mx-auto w-full -m-24 z-11",children:r})]})]})}},9825:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(4112),n=r(9008),a=r(55);function i(e){var t,r,s="";if("string"===typeof e||"number"===typeof e)s+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=i(e[t]))&&(s&&(s+=" "),s+=r);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function l(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=i(e))&&(s&&(s+=" "),s+=t);return s}var o=r(5893),d=function(){var e=(0,a.a)({middleware:"auth"}),t=e.user,r=e.punishments;return(0,o.jsxs)(s.Z,{header:"My Punishments",children:[(0,o.jsx)(n.default,{children:(0,o.jsxs)("title",{children:["Wynntils - ",null===t||void 0===t?void 0:t.username]})}),(0,o.jsx)("div",{className:"py-12",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[(0,o.jsxs)("div",{className:"p-6 bg-white  border-b border-gray-200",children:["You have ",(0,o.jsx)("strong",{children:null===r||void 0===r?void 0:r.length})," ","punishments"]}),(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,o.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Punishment ID"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date received"})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===r||void 0===r?void 0:r.map((function(e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e._id}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.reason}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,o.jsx)("span",{className:"rounded px-2 py-1 uppercase font-bold ".concat(l({"bg-amber-200 text-amber-600":"strike"===e.type.toLowerCase(),"bg-orange-200 text-orange-600":"kick"===e.type.toLowerCase(),"bg-red-200 text-red-600":"ban"===e.type.toLowerCase(),"bg-sky-200 text-sky-600":"mute"===e.type.toLowerCase()})),children:e.type})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.timestamp).toDateString()})]},e._id)}))})]})})})})})]})})})]})}},8249:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/punishments",function(){return r(9825)}])}},function(e){e.O(0,[537,645,774,888,179],(function(){return t=8249,e(e.s=t);var t}));var t=e.O();_N_E=t}]);