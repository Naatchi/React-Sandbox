(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{55:function(e,t,r){"use strict";r.d(t,{a:function(){return p}});var n=r(4730),s=r(29),a=r(7794),l=r.n(a),i=r(5522),o=r(9669),d=r.n(o),c=r(3454),u=d().create({baseURL:c.env.NEXT_PUBLIC_BACKEND_URL,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0}),h=r(7294),x=r(1163),f=["setErrors"],m=["setErrors","setStatus"],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.middleware,r=e.redirectIfAuthenticated,a=(0,x.useRouter)(),o=(0,i.ZP)("/api/user",(function(){return u.get("/api/user").then((function(e){return e.data})).catch((function(e){if(409!=e.response.status)throw e}))})),d=o.data,c=o.error,p=o.revalidate,b=(0,i.ZP)("/api/punishments/me",(function(){return u.get("/api/punishments/me").then((function(e){return e.data})).catch((function(e){if(409!=e.response.status)throw e}))})),w=b.data,v=function(){return u.get("/sanctum/csrf-cookie")},j=function(){var e=(0,s.Z)(l().mark((function e(t){var r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,s=(0,n.Z)(t,f),e.next=3,v();case 3:r([]),u.post("/register",s).then((function(){return p()})).catch((function(e){if(422!=e.response.status)throw e;r(Object.values(e.response.data.errors).flat())}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,s.Z)(l().mark((function e(t){var r,s,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setErrors,s=t.setStatus,a=(0,n.Z)(t,m),e.next=3,v();case 3:r([]),s(null),u.post("/login",a).then((function(){return p()})).catch((function(e){if(422!=e.response.status)throw e;r(Object.values(e.response.data.errors).flat())}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return e.next=3,u.post("/logout");case 3:p();case 4:window.location.pathname="/auth/login";case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){"guest"==t&&r&&d&&a.push(r),"auth"==t&&c&&y()}),[d,c]),{user:d,punishments:w,register:j,login:g,logout:y}}},4112:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(9008),s=r(1664),a=r(1163),l=r(7294),i=r(5893),o=function(){var e=(0,l.useState)("hidden"),t=e[0],r=e[1],n=(0,a.useRouter)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden shadow-xl bg-white flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6",children:(0,i.jsxs)("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-0 flex flex-wrap items-center justify-between w-full mx-auto",children:[(0,i.jsx)("button",{className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",type:"button",onClick:function(){return r("bg-white m-2 py-3 px-6")},children:(0,i.jsx)("i",{className:"fas fa-bars"})}),(0,i.jsx)(s.default,{href:"/",children:(0,i.jsx)("a",{href:"#",className:"md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:"Wynntils"})}),(0,i.jsxs)("div",{className:"md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded "+t,children:[(0,i.jsx)("div",{className:"md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-blueGray-200",children:(0,i.jsxs)("div",{className:"flex flex-wrap",children:[(0,i.jsx)("div",{className:"w-6/12",children:(0,i.jsx)(s.default,{href:"/",children:(0,i.jsx)("a",{href:"#pablo",className:"md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:"Wynntils"})})}),(0,i.jsx)("div",{className:"w-6/12 flex justify-end",children:(0,i.jsx)("button",{type:"button",className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",onClick:function(){return r("hidden")},children:(0,i.jsx)("i",{className:"fas fa-times"})})})]})}),(0,i.jsx)("form",{className:"mt-6 mb-4 md:hidden",children:(0,i.jsx)("div",{className:"mb-3 pt-0",children:(0,i.jsx)("input",{type:"text",placeholder:"Search",className:"px-3 py-2 h-12 border border-solid  border-blueGray-500 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-base leading-snug shadow-none outline-none focus:outline-none w-full font-normal"})})}),(0,i.jsx)("hr",{className:"my-4 md:min-w-full"}),(0,i.jsx)("h6",{className:"md:min-w-full text-blueGray-500 text-xs uppercase font-bold block pt-1 pb-4 no-underline",children:"Your account"}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)(s.default,{href:"/user/dashboard",children:(0,i.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==n.pathname.indexOf("/user/dashboard")?"text-green-500 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Dashboard"})}),(0,i.jsx)(s.default,{href:"/user/capes",children:(0,i.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==n.pathname.indexOf("/user/capes")?"text-green-400 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Capes"})}),(0,i.jsx)(s.default,{href:"/user/punishments",children:(0,i.jsx)("a",{href:"#",className:"text-xs uppercase py-3 font-bold block "+(-1!==n.pathname.indexOf("/user/punishments")?"text-green-500 hover:text-green-600":"text-slate-700 hover:text-green-500"),children:"Punishments"})})]})})]})]})})})},d=function(e){var t=e.header,r=e.children;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.default,{children:(0,i.jsx)("link",{rel:"icon",href:"/images/icons/favicon.svg",type:"image/x-icon"})}),(0,i.jsx)(o,{}),(0,i.jsxs)("div",{className:"relative md:ml-64 bg-gray-100 min-h-screen",children:[(0,i.jsx)("nav",{className:"absolute top-0 left-0 w-full z-10 bg-transparent md:flex-roz md:flex-nowrap md:justify-start flex items-center p-4",children:(0,i.jsx)("div",{className:"w-full mx-auto items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4",children:(0,i.jsx)("h1",{className:"text-white text-lg uppercase hidden lg:inline-block font-semibold",children:t})})}),(0,i.jsx)("div",{className:"relative bg-slate-900 md:pt-32 pb-32 pt-12",children:(0,i.jsx)("p",{className:"text-white",children:"Info here?"})}),(0,i.jsx)("div",{className:"relative px-4 md:px-10 mx-auto w-full -m-24 z-11",children:r})]})]})}},6829:function(e,t,r){"use strict";r.r(t);var n=r(4112),s=r(9008),a=r(55),l=r(5893);t.default=function(){var e=(0,a.a)({middleware:"auth"}).user;return(0,l.jsxs)(n.Z,{header:"Dashboard",children:[(0,l.jsx)(s.default,{children:(0,l.jsxs)("title",{children:["Wynntils - ",null===e||void 0===e?void 0:e.username]})}),(0,l.jsx)("div",{className:"py-12",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:(0,l.jsxs)("div",{className:"p-6 bg-white  border-b border-gray-200",children:["You're logged in as ",null===e||void 0===e?void 0:e.username,"!"]})})})})]})}},768:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/dashboard",function(){return r(6829)}])}},function(e){e.O(0,[537,645,774,888,179],(function(){return t=768,e(e.s=t);var t}));var t=e.O();_N_E=t}]);